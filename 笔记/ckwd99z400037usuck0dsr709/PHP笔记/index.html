<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    
    <title>PHP笔记 | Damya&#39;s Blog | あややこやや</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="php">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.css">
    <link rel="stylesheet" href="/css/style.css?v=1.4.4">
    
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":null,"app_key":null,"icon":true}'),
            v: JSON.parse('{"enable":false,"appid":null,"appkey":null,"notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar"}'),
            g: JSON.parse('{"enable":false,"lazy":true,"owner":"codefine","repo":"gitment","oauth":{"client_id":null,"client_secret":null},"perPage":10}'),
            d: JSON.parse('{"app_id":null}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
    
<link rel="alternate" href="/atom.xml" title="Damya's Blog" type="application/atom+xml">
</head>


<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Damya</h5>
          <a href="mailto:397526596@qq.com" title="397526596@qq.com" class="mail">
            
              <span>3</span>
            
              <span>9</span>
            
              <span>7</span>
            
              <span>5</span>
            
              <span>2</span>
            
              <span>6</span>
            
              <span>5</span>
            
              <span>9</span>
            
              <span>6</span>
            
              <span>@</span>
            
              <span>q</span>
            
              <span>q</span>
            
              <span>.</span>
            
              <span>c</span>
            
              <span>o</span>
            
              <span>m</span>
            
          </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/DamyaHome" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                CATEGORIES
              </a>
            </li>
        
            <li class="">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
            <li class="">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                ABOUT
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>PHP笔记</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg">
    <div class="container fade-scale">
        <h1 class="title">PHP笔记</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-06-11T13:10:04.000Z" itemprop="datePublished" class="page-time">
  2019-06-11
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/笔记/">笔记</a></li></ul>

            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-PHP笔记"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">PHP笔记</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-06-11 21:10:04" datetime="2019-06-11T13:10:04.000Z"  itemprop="datePublished">2019-06-11</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/笔记/">笔记</a></li></ul>



            

            


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <h2 id="类与面向对象"><a href="#类与面向对象" class="headerlink" title="类与面向对象"></a>类与面向对象</h2><hr>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//定义一个类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span></span>&#123;</span><br><span class="line">    <span class="comment">//定义公共属性</span></span><br><span class="line">    <span class="keyword">public</span> $name = <span class="string">'汽车'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义受保护的属性</span></span><br><span class="line">    <span class="keyword">protected</span> $corlor = <span class="string">'白色'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义私有属性</span></span><br><span class="line">    <span class="keyword">private</span> $price = <span class="string">'100000'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//方法内部可以使用 $this 伪变量调用对象的属性或者方法 </span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义继承于Car的Truck类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Truck</span> <span class="keyword">extends</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">speedUp</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实例化一个car对象</span></span><br><span class="line">$car = <span class="keyword">new</span> Car();</span><br><span class="line">$car-&gt;name = <span class="string">'奥迪A6'</span>; <span class="comment">//设置对象的属性值</span></span><br><span class="line"><span class="keyword">echo</span> $car-&gt;getName(); <span class="comment">//调用对象的方法 输出对象名字</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>访问控制：<br><code>public</code> 公开的<br><code>protected</code> 受保护的<br><code>private</code>私有的</p>
<p>一般通过-&gt;对象操作符来访问对象的属性或者方法，对于静态属性则使用::双冒号进行访问</p>
<p>使用关键字static修饰的，称之为静态方法，静态方法不需要实例化对象，可以通过类名直接调用，操作符为双冒号::</p>
<p>静态方法中，可以使用<code>self，parent，static</code>在内部调用静态方法与属性</p>
<hr>
<h2 id="构造函数和析构函数"><a href="#构造函数和析构函数" class="headerlink" title="构造函数和析构函数"></a>构造函数和析构函数</h2><p><code>__construct</code>  构造函数,具有构造函数的类，会在每次对象创建的时候调用该函数，因此常用来在对象创建的时候进行一些初始化工作</p>
<p><code>__destruct</code>  析构函数,析构函数指的是当某个对象的所有引用被删除，或者对象被显式的销毁时会执行的函数</p>
<hr>
<h2 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h2><ul>
<li>属性的重载</li>
</ul>
<p><code>__set</code>   实现对不存在属性的赋值<br><code>__get</code>  读取<br><code>__isset</code>  判断属性是否设置<br><code>__unset</code>  销毁</p>
<ul>
<li>方法的重载</li>
</ul>
<p><code>__call</code>  调用不存在的方法，调用不存在的静态方法时用 <figure class="highlight plain"><figcaption><span>static```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">``` php</span><br><span class="line">public function __call($speed,$car)&#123;</span><br><span class="line">        if($speed == &apos;speedDown&apos;)&#123;</span><br><span class="line">            $this-&gt;speed -= 10;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="对象的高级特性"><a href="#对象的高级特性" class="headerlink" title="对象的高级特性"></a>对象的高级特性</h2><ul>
<li>复制对象</li>
</ul>
<p><code>__clone</code>函数</p>
<ul>
<li>对象序列化</li>
</ul>
<p><code>serialize</code>  将对象序列化为字符串，用于存储或传递数据<br><code>unserialize</code>  将字符串反序列化成对象进行使用</p>
<hr>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p>正则匹配：用一些特定的字符组合成一个规则字符串模式<br>使用PCRE库函数进行正则匹配</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><p><a href="https://www.cnblogs.com/hellohell/p/5718319.html" target="_blank" rel="noopener">详解</a></p>
<p>/foo bar/  正斜线<br>\b  \b  单词定界符，完整单词或字符串<br>\B  \B  单词定界符，单词或字符串的一部分<br>|  选择字符，表示或，可以匹配任意长度的字符串<br>[]  多和链接字符-一起使用<br>^  $  行定位符<br><em>#</em>  hash符号<br>^  排除字符，一般放在[]中，表示排除不符合的字符<br><em>-</em> 链接字符<br>~  取反符号<br>\  反斜杠，用于转义也可使用<code>preg_quote</code>进行转义)<br>()  括号字符，改变限定符的作用范围；进行分组，便于反向引用</p>
<h3 id="限定符"><a href="#限定符" class="headerlink" title="限定符"></a>限定符</h3><p><strong>用来限定每个字符串出现的次数</strong></p>
<p>?：零次或一次<br>*：零次或多次<br>+：一次或多次<br>{n}：n次<br>{n,}：至少n次<br>{n，m}：n到m次</p>
<h3 id="指定预定义的字符集"><a href="#指定预定义的字符集" class="headerlink" title="指定预定义的字符集"></a>指定预定义的字符集</h3><p>\d  任意一个十进制数字[0-9]<br>\D  任意一个非十进制数字<br>\s  任意一个空白字符(空格、\f换页、\n换行、\r回车、\t字表符)<br>\S    任意一个非空白字符<br>\w    任意一个单词字符<br>\W    任意个非单词字符</p>
<p>匹配邮箱格式:<code>/[\w\-]+@\w+\.\w+/</code></p>
<h3 id="模式修饰符"><a href="#模式修饰符" class="headerlink" title="模式修饰符"></a>模式修饰符</h3><p>常用——<br>i  忽略大小写匹配<br>m  将字符串视为多行，开始和结束将会指点字符串的每一行的开头是“^”，结束是“$”<br>s  将字符串视为一行<br>x  忽略空白</p>
<p>e  只用在<code>preg_replace()</code>函数中，在替换字符串中逆向引用做正常的替换，将其(即“替换字符串”)作为PHP代码求值，并用其结果来替换所搜索的字符串。<br>A  必须匹配字符串开头部分<br>D  模式中的$字符权匹配目标字符的结尾<br>E  与“m”相反，将匹配绝对字符串的结尾，而不是换行符前面<br>U  贪婪模式，最大限度的匹配，反转了匹配数量的值使其不是默认的重复，而变成在后面跟上“?”才变得重复<br>S  当一个模式将被使用若干次时，为加速匹配起见值得先对其进行分析，仅对没有单一固定起始字符的 non-anchored 模式有用</p>
<h3 id="贪婪模式与懒惰模式"><a href="#贪婪模式与懒惰模式" class="headerlink" title="贪婪模式与懒惰模式"></a>贪婪模式与懒惰模式</h3><p>贪婪模式：在可匹配与可不匹配的时候，优先匹配<br>例如  /\d+  \d+/<br>知道匹配字符长度时  /\d{数字}  \d{数字}/</p>
<p>.<em>  会匹配后面的一切字符<br>.</em>?  非贪婪模式，后跟符号表示结束条件</p>
<p>懒惰模式：在可匹配与可不匹配的时候，优先不匹配<br>例如  /\d?  \d?/</p>
<hr>
<h2 id="使用正则表达式进行匹配"><a href="#使用正则表达式进行匹配" class="headerlink" title="使用正则表达式进行匹配"></a>使用正则表达式进行匹配</h2><p><strong>强调</strong><br>指定预定义的字符集<br>\d  任意一个十进制数字[0-9]<br>\D  任意一个非十进制数字<br>\s  任意一个空白字符(空格、\f换页、\n换行、\r回车、\t字表符)<br>\S    任意一个非空白字符<br>\w    任意一个单词字符<br>\W    任意个非单词字符</p>
<p>常用模式修饰符<br>i  忽略大小写匹配<br>m  将字符串视为多行，开始和结束将会指点字符串的每一行的开头是“^”，结束是“$”<br>s  将字符串视为一行<br>x  忽略空白</p>
<h3 id="preg-match与preg-match-all"><a href="#preg-match与preg-match-all" class="headerlink" title="preg_match与preg_match_all"></a>preg_match与preg_match_all</h3><p><code>preg_match</code>用来执行一个匹配，可以简单的用来判断模式是否匹配成功，或者取得一个匹配结果，他的返回值是匹配成功的次数0或者1，在匹配到1次以后就会停止搜索</p>
<p><code>preg_match_all</code>可以循环获取一个列表的匹配结果数组</p>
<h3 id="搜索和替换"><a href="#搜索和替换" class="headerlink" title="搜索和替换"></a>搜索和替换</h3><p><code>preg_replace</code>函数</p>
<p>preg_replace(正则匹配，替换内容，数组);</p>
<h3 id="正则匹配常用案例"><a href="#正则匹配常用案例" class="headerlink" title="正则匹配常用案例"></a>正则匹配常用案例</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$user = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'name'</span> =&gt; <span class="string">'spark1985'</span>,</span><br><span class="line">    <span class="string">'email'</span> =&gt; <span class="string">'spark@imooc.com'</span>,</span><br><span class="line">    <span class="string">'mobile'</span> =&gt; <span class="string">'13312345678'</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">//进行一般性验证</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>($user)) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">'用户信息不能为空'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (strlen($user[<span class="string">'name'</span>]) &lt; <span class="number">6</span>) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">'用户名长度最少为6位'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//用户名必须为字母、数字与下划线</span></span><br><span class="line"><span class="keyword">if</span> (!preg_match(<span class="string">'/^\w+$/i'</span>, $user[<span class="string">'name'</span>])) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">'用户名不合法'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//验证邮箱格式是否正确</span></span><br><span class="line"><span class="keyword">if</span> (!preg_match(<span class="string">'/^[\w\.]+@\w+\.\w+$/i'</span>, $user[<span class="string">'email'</span>])) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">'邮箱不合法'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//手机号必须为11位数字，且为1开头</span></span><br><span class="line"><span class="keyword">if</span> (!preg_match(<span class="string">'/^1\d&#123;10&#125;$/i'</span>, $user[<span class="string">'mobile'</span>])) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">'手机号不合法'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'用户信息验证成功'</span>;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>Cookie是存储在客户端浏览器中的数据，我们通过Cookie来跟踪与存储用户数据。一般情况下，Cookie通过HTTP headers从服务端返回到客户端</p>
<p>PHP通过<code>setcookie</code>函数进行Cookie的设置，任何从浏览器发回的Cookie，PHP都会自动的将他存储在<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">在使用会话Session时通常使用Cookie来存储会话id来识别用户，Cookie具备有效期，当有效期结束之后，Cookie会自动的从客户端删除</span><br><span class="line"></span><br><span class="line">### 设置cookie</span><br><span class="line"></span><br><span class="line">一个浏览器能创建的Cookie数量最多为**30**个，并且每个不能超过**4KB**，每个WEB站点能设置的Cookie总数不能超过**20**个</span><br><span class="line"></span><br><span class="line">**setcookie函数**</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">name（ Cookie名）可以通过`$_COOKIE[&apos;name&apos;]` 进行访问</span><br><span class="line">value（Cookie的值）</span><br><span class="line">expire（过期时间）Unix时间戳格式，默认为0，表示浏览器关闭即失效</span><br><span class="line">path（有效路径）如果路径设置为&apos;/&apos;，则整个网站都有效</span><br><span class="line">domain（有效域）默认整个域名都有效，如果设置了&apos;www.baidu.com&apos;,则只在www子域中有效</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**setrawcookie函数需要手动进行unlencode**</span><br><span class="line"></span><br><span class="line">`setrawcookie(&apos;cookie_name&apos;, rawurlencode($value), time()+60*60*24*365);`</span><br><span class="line"></span><br><span class="line">**header方法**</span><br><span class="line"></span><br><span class="line">`header(&quot;Set-Cookie:cookie_name=value&quot;);`</span><br><span class="line"></span><br><span class="line">### 删除cookie</span><br><span class="line"></span><br><span class="line">在php中使用`“setcookie($cookiename, &apos;&apos;);”`或者`“setcookie($cookiename, NULL);”`都会删除cookie</span><br><span class="line"></span><br><span class="line">**setcookie 方法**</span><br><span class="line"></span><br><span class="line">`setcookie(&apos;cookie_name&apos;, &apos;&apos;, time()-1);`</span><br><span class="line"></span><br><span class="line">**header方法**</span><br><span class="line"></span><br><span class="line">`header(&quot;Set-Cookie:cookie_name=value;expires=&quot;.gmdate(&apos;D, d M Y H:i:s \G\M\T&apos;, time()-1);`</span><br><span class="line">用到`gmdate`函数，用来生成格林威治标准时间，以便排除时差的影响</span><br><span class="line"></span><br><span class="line">### session与cookie的异同</span><br><span class="line"></span><br><span class="line">``` php</span><br><span class="line">&lt;?php</span><br><span class="line">//开始使用session，执行session_start()方法</span><br><span class="line">session_start();</span><br><span class="line">//设置一个session，进行session的读写</span><br><span class="line">$_SESSION[&apos;test&apos;] = time();</span><br><span class="line">//显示当前的session_id</span><br><span class="line">echo &quot;session_id:&quot;.session_id();</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line"></span><br><span class="line">//读取session值</span><br><span class="line">echo $_SESSION[&apos;test&apos;];</span><br><span class="line"></span><br><span class="line">//销毁一个session</span><br><span class="line">unset($_SESSION[&apos;test&apos;]);</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">var_dump($_SESSION);</span><br></pre></td></tr></table></figure></p>
<h3 id="使用session来存储用户的登录信息"><a href="#使用session来存储用户的登录信息" class="headerlink" title="使用session来存储用户的登录信息"></a>使用session来存储用户的登录信息</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();</span><br><span class="line"><span class="comment">//假设用户登录成功获得了以下用户数据</span></span><br><span class="line">$userinfo = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'uid'</span>  =&gt; <span class="number">10000</span>,</span><br><span class="line">    <span class="string">'name'</span> =&gt; <span class="string">'spark'</span>,</span><br><span class="line">    <span class="string">'email'</span> =&gt; <span class="string">'spark@imooc.com'</span>,</span><br><span class="line">    <span class="string">'sex'</span>  =&gt; <span class="string">'man'</span>,</span><br><span class="line">    <span class="string">'age'</span>  =&gt; <span class="string">'18'</span></span><br><span class="line">);</span><br><span class="line">header(<span class="string">"content-type:text/html; charset=utf-8"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 将用户信息保存到session中 */</span></span><br><span class="line">$_SESSION[<span class="string">'uid'</span>] = $userinfo[<span class="string">'uid'</span>];</span><br><span class="line">$_SESSION[<span class="string">'name'</span>] = $userinfo[<span class="string">'name'</span>];</span><br><span class="line">$_SESSION[<span class="string">'userinfo'</span>] = $userinfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">//* 将用户数据保存到cookie中的一个简单方法 */</span></span><br><span class="line">$secureKey = <span class="string">'imooc'</span>; <span class="comment">//加密密钥</span></span><br><span class="line">$str = serialize($userinfo); <span class="comment">//将用户信息序列化</span></span><br><span class="line"><span class="comment">//用户信息加密前</span></span><br><span class="line">$str = base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, md5($secureKey), $str, MCRYPT_MODE_ECB));</span><br><span class="line"><span class="comment">//用户信息加密后</span></span><br><span class="line"><span class="comment">//将加密后的用户数据存储到cookie中</span></span><br><span class="line">setcookie(<span class="string">'userinfo'</span>, $str);</span><br><span class="line"></span><br><span class="line"><span class="comment">//当需要使用时进行解密</span></span><br><span class="line">$str = mcrypt_decrypt(MCRYPT_RIJNDAEL_256, md5($secureKey), base64_decode($str), MCRYPT_MODE_ECB);</span><br><span class="line">$uinfo = unserialize($str);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"解密后的用户信息：&lt;br&gt;"</span>;</span><br><span class="line">print_r($uinfo);</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="PHP文件系统"><a href="#PHP文件系统" class="headerlink" title="PHP文件系统"></a>PHP文件系统</h2><h3 id="读取文件内容"><a href="#读取文件内容" class="headerlink" title="读取文件内容"></a>读取文件内容</h3><p><code>file_get_contents</code>函数  可以将整个文件全部读取到一个字符串中</p>
<p>参数：<br><code>file_get_contents(path,include_path,context,start,max_length)</code> </p>
<p>方法：<br><code>fopen</code>  需要配合使用<code>fgets</code>和<code>fclose</code></p>
<p><strong>mode有下列几种形态字符串:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">r  打开只读文件，该文件必须存在。</span><br><span class="line">r+  打开可读写的文件，该文件必须存在。</span><br><span class="line">rb+  读写打开一个二进制文件，只允许读写数据。</span><br><span class="line">rt+  读写打开一个文本文件，允许读和写。</span><br><span class="line">w  打开只写文件，若文件存在则文件长度清为0，即该文件内容会消失。若文件不存在则建立该文件。</span><br><span class="line">w+  打开可读写文件，若文件存在则文件长度清为零，即该文件内容会消失。若文件不存在则建立该文件。</span><br><span class="line">a  以附加的方式打开只写文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留。（EOF符保留）</span><br><span class="line">a+  以附加方式打开可读写的文件。若文件不存在，则会建立该文件，如果文件存在，写入的数据会被加到文件尾后，即文件原先的内容会被保留。 （原来的EOF符不保留）</span><br><span class="line">wb  只写打开或新建一个二进制文件；只允许写数据。</span><br><span class="line">wb+ 读写打开或建立一个二进制文件，允许读和写。</span><br><span class="line">wt+ 读写打开或着建立一个文本文件；允许读写。</span><br><span class="line">at+ 读写打开一个文本文件，允许读或在文本末追加数据。</span><br><span class="line">ab+ 读写打开一个二进制文件，允许读或在文件末追加数据。</span><br></pre></td></tr></table></figure>
<p><code>fgets</code>  可以从文件指针中读取一行<br><code>fread</code>  可以读取指定长度的字符串</p>
<ul>
<li>用途</li>
</ul>
<p>**1. 可以用来打开一个网络地址 可以实现简单的网页抓取 </p>
<ol>
<li>可以读取本地的文件</li>
<li>可以模拟post请求**</li>
</ol>
<ul>
<li>判断文件是否存在</li>
</ul>
<p><code>file_exists</code> 函数,不仅可以判断文件是否存在，同时也可以判断目录是否存在<br><code>is_file</code> 函数，能确切的判断给定的路径是否是一个文件</p>
<p><code>is_readable</code>函数与<code>is_writeable</code>函数能在文件是否存在的基础上，判断文件是否可读与可写</p>
<h3 id="取得文件的修改时间"><a href="#取得文件的修改时间" class="headerlink" title="取得文件的修改时间"></a>取得文件的修改时间</h3><p>fileowner：获得文件的所有者<br>filectime：获取文件的创建时间<br>filemtime：获取文件的修改时间<br>fileatime：获取文件的访问时间</p>
<h3 id="取得文件的大小"><a href="#取得文件的大小" class="headerlink" title="取得文件的大小"></a>取得文件的大小</h3><p><code>filesize</code>函数</p>
<h3 id="写入内容到文件"><a href="#写入内容到文件" class="headerlink" title="写入内容到文件"></a>写入内容到文件</h3><p><code>file_put_contents</code>函数  可以把一个字符串写入文件中，如果文件不存在将创建新文件<br><strong>mode：</strong><br><code>FILE_USE_INCLUDE_PATH</code>  检查 <code>*filename*</code> 副本的内置路径<br><code>FILE_APPEND</code>  向文件末尾追加内容<br><code>LOCK_EX</code>  防止多人同时写入</p>
<h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><p><code>unlink</code>函数，删除文件<br><code>rmdir</code>函数，删除空文件夹</p>
<p>循环删除使用<code>glob</code>函数遍历所有文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> (glob(<span class="string">"*"</span>) <span class="keyword">as</span> $filename) &#123;</span><br><span class="line">   unlink($filename);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><h3 id="抛出异常"><a href="#抛出异常" class="headerlink" title="抛出异常"></a>抛出异常</h3><p><strong>抛出异常，可以保障程序的正确性与安全，避免导致不可预知的bug</strong></p>
<ol>
<li>基本语法</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="comment">//可能出现错误或异常的代码</span></span><br><span class="line"><span class="comment">//catch表示捕获，Exception是php已定义好的异常类</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(<span class="keyword">Exception</span> $e)&#123;</span><br><span class="line"><span class="comment">//对异常处理，方法：</span></span><br><span class="line"><span class="comment">//1、自己处理</span></span><br><span class="line"><span class="comment">//2、不处理，将其再次抛出</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>处理处理程序应当包括：</li>
</ol>
<p><strong>Try</strong> - 使用异常的函数应该位于 “try”  代码块内。如果没有触发异常，则代码将照常继续执行。但是如果异常被触发，会抛出一个异常。</p>
<p><strong>Throw</strong> - 这里规定如何触发异常。注意：每一个 “throw” 必须对应至少一个 “catch”，当然可以对应多个”catch”</p>
<p><strong>Catch</strong> - “catch” 代码块会捕获异常，并创建一个包含异常信息的对象。</p>
<p>例如：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建可抛出一个异常的函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkNum</span><span class="params">($number)</span></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>($number&gt;<span class="number">1</span>)&#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">"异常提示-数字必须小于等于1"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//在 "try" 代码块中触发异常</span></span><br><span class="line"> <span class="keyword">try</span>&#123;</span><br><span class="line">     checkNum(<span class="number">2</span>);</span><br><span class="line">     <span class="comment">//如果异常被抛出，那么下面一行代码将不会被输出</span></span><br><span class="line">     <span class="keyword">echo</span> <span class="string">'如果能看到这个提示，说明你的数字小于等于1'</span>;</span><br><span class="line"> &#125;<span class="keyword">catch</span>(<span class="keyword">Exception</span> $e)&#123;</span><br><span class="line">     <span class="comment">//捕获异常</span></span><br><span class="line">     <span class="keyword">echo</span> <span class="string">'捕获异常: '</span> .$e-&gt;getMessage();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="异常处理类"><a href="#异常处理类" class="headerlink" title="异常处理类"></a>异常处理类</h3><p><code>Exception</code>是所有异常处理的基类</p>
<p>基本属性：<br>message 异常消息内容<br>code 异常代码<br>file 抛出异常的文件名<br>line 抛出异常在该文件的行数</p>
<p>方法：<br>getTrace 获取异常追踪信息<br>getTraceAsString 获取异常追踪信息的字符串<br>getMessage 获取出错信息</p>
<h3 id="捕获异常信息"><a href="#捕获异常信息" class="headerlink" title="捕获异常信息"></a>捕获异常信息</h3><p><code>try{}catch(Exception $){}</code></p>
<h3 id="获取错误发生的所在行"><a href="#获取错误发生的所在行" class="headerlink" title="获取错误发生的所在行"></a>获取错误发生的所在行</h3><p>将错误信息写入错误日志中</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">'wrong'</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span>(<span class="keyword">Exception</span> $ex) &#123;</span><br><span class="line">    $msg = <span class="string">'Error:'</span>.$ex-&gt;getMessage().<span class="string">"\n"</span>;</span><br><span class="line">    $msg.= $ex-&gt;getTraceAsString().<span class="string">"\n"</span>;</span><br><span class="line">    $msg.= <span class="string">'异常行号：'</span>.$ex-&gt;getLine().<span class="string">"\n"</span>;</span><br><span class="line">    $msg.= <span class="string">'所在文件：'</span>.$ex-&gt;getFile().<span class="string">"\n"</span>;</span><br><span class="line">    <span class="comment">//将异常信息记录到日志中</span></span><br><span class="line"> PHP异常处理之   file_put_contents(<span class="string">'error.log'</span>, $msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="PHP数据库扩展"><a href="#PHP数据库扩展" class="headerlink" title="PHP数据库扩展"></a>PHP数据库扩展</h2><h3 id="进行数据库连接的方法"><a href="#进行数据库连接的方法" class="headerlink" title="进行数据库连接的方法"></a>进行数据库连接的方法</h3><ul>
<li>mysql扩展：</li>
</ul>
<p><code>$link = mysql_connect(&#39;mysql_host&#39;, &#39;mysql_user&#39;, &#39;mysql_password&#39;);</code></p>
<ul>
<li>mysqli扩展：</li>
</ul>
<p><code>$link = mysqli_connect(&#39;mysql_host&#39;, &#39;mysql_user&#39;, &#39;mysql_password&#39;);</code></p>
<ul>
<li>PDO扩展</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$dsn = &apos;mysql:dbname=testdb;host=127.0.0.1&apos;;</span><br><span class="line">$user = &apos;dbuser&apos;;</span><br><span class="line">$password = &apos;dbpass&apos;;</span><br><span class="line">$dbh = new PDO($dsn, $user, $password);</span><br></pre></td></tr></table></figure>
<h3 id="执行MySQL查询"><a href="#执行MySQL查询" class="headerlink" title="执行MySQL查询"></a>执行MySQL查询</h3><p><code>mysql_query</code>函数</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql_connect(<span class="string">'127.0.0.1'</span>, <span class="string">'code1'</span>, <span class="string">''</span>);</span><br><span class="line">mysql_select_db(<span class="string">'code1'</span>);</span><br><span class="line">mysql_query(<span class="string">"set names 'utf8'"</span>);</span><br><span class="line"></span><br><span class="line">$link1 = mysql_connect(<span class="string">'127.0.0.1'</span>, <span class="string">'code1'</span>, <span class="string">''</span>);</span><br><span class="line">$link2 = mysql_connect(<span class="string">'127.0.0.1'</span>, <span class="string">'code1'</span>, <span class="string">''</span>, <span class="keyword">true</span>); <span class="comment">//开启一个新的连接</span></span><br><span class="line">$res = mysql_query(<span class="string">'select * from user limit 1'</span>, $link1); <span class="comment">//从第一个连接中查询数据</span></span><br><span class="line"></span><br><span class="line">$row = mysql_fetch_array($res);</span><br><span class="line">var_dump($row);</span><br></pre></td></tr></table></figure>
<hr>
<p>####　往后的涉及sql的语法另开笔记记录</p>

        </div>
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2019-06-11T13:12:20.028Z" itemprop="dateUpdated">2019-06-11 21:12:20</time>
</span><br>


        
        转载注明出处，原文地址：<a href="/笔记/ckwd99z400037usuck0dsr709/PHP笔记/" target="_blank" rel="external">https://www.damyahome.github.io/笔记/ckwd99z400037usuck0dsr709/PHP笔记/</a>
        
    </div>
    <footer>
        <a href="https://www.damyahome.github.io">
            <img src="/img/avatar.jpg" alt="Damya">
            Damya
        </a>
    </footer>
</blockquote>

        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.damyahome.github.io/笔记/ckwd99z400037usuck0dsr709/PHP笔记/&title=《PHP笔记》 — Damya's Blog&pic=https://www.damyahome.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.damyahome.github.io/笔记/ckwd99z400037usuck0dsr709/PHP笔记/&title=《PHP笔记》 — Damya's Blog&source=在那远方的天空之下，一朵小花光鲜亮丽。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            


        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/笔记/ckwd99z47003fusuc19fpkxsb/Vue官方笔记/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Vue官方笔记</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/笔记/ckwd99z4r0043usuc4wolorz6/cURL参数说明/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">cURL参数说明</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>目录</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#类与面向对象"><span class="post-toc-number">1.</span> <span class="post-toc-text">类与面向对象</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#构造函数和析构函数"><span class="post-toc-number">2.</span> <span class="post-toc-text">构造函数和析构函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#重载"><span class="post-toc-number">3.</span> <span class="post-toc-text">重载</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#对象的高级特性"><span class="post-toc-number">4.</span> <span class="post-toc-text">对象的高级特性</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#正则表达式"><span class="post-toc-number">5.</span> <span class="post-toc-text">正则表达式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#基本语法"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">基本语法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#限定符"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">限定符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#指定预定义的字符集"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">指定预定义的字符集</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#模式修饰符"><span class="post-toc-number">5.4.</span> <span class="post-toc-text">模式修饰符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#贪婪模式与懒惰模式"><span class="post-toc-number">5.5.</span> <span class="post-toc-text">贪婪模式与懒惰模式</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#使用正则表达式进行匹配"><span class="post-toc-number">6.</span> <span class="post-toc-text">使用正则表达式进行匹配</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#preg-match与preg-match-all"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">preg_match与preg_match_all</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#搜索和替换"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">搜索和替换</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#正则匹配常用案例"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">正则匹配常用案例</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Cookie"><span class="post-toc-number">7.</span> <span class="post-toc-text">Cookie</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用session来存储用户的登录信息"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">使用session来存储用户的登录信息</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PHP文件系统"><span class="post-toc-number">8.</span> <span class="post-toc-text">PHP文件系统</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#读取文件内容"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">读取文件内容</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#取得文件的修改时间"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">取得文件的修改时间</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#取得文件的大小"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">取得文件的大小</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#写入内容到文件"><span class="post-toc-number">8.4.</span> <span class="post-toc-text">写入内容到文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#删除文件"><span class="post-toc-number">8.5.</span> <span class="post-toc-text">删除文件</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#异常处理"><span class="post-toc-number">9.</span> <span class="post-toc-text">异常处理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#抛出异常"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">抛出异常</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#异常处理类"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">异常处理类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#捕获异常信息"><span class="post-toc-number">9.3.</span> <span class="post-toc-text">捕获异常信息</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取错误发生的所在行"><span class="post-toc-number">9.4.</span> <span class="post-toc-text">获取错误发生的所在行</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PHP数据库扩展"><span class="post-toc-number">10.</span> <span class="post-toc-text">PHP数据库扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#进行数据库连接的方法"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">进行数据库连接的方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#执行MySQL查询"><span class="post-toc-number">10.2.</span> <span class="post-toc-text">执行MySQL查询</span></a></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    
</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        让这个世界的bug有趣一点
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/reward-wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="http://www.pdsdt.lovepdsdt.com/" target="_blank">Pdsdt</a>
    </span>
    
    <span class="blogroll-item">
        <a href="http://www.starssgo.top/" target="_blank">starssgo</a>
    </span>
    
    <span class="blogroll-item">
        <a href="http://phoebe233.cn/" target="_blank">W4nder</a>
    </span>
    
    <span class="blogroll-item">
        <a href="http://www.dongzt.cn/" target="_blank">Alkaid</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://whali3n51.top/" target="_blank">Whali3n51</a>
    </span>
    
    <span class="blogroll-item">
        <a href="http://www.ap1e.cn/" target="_blank">Aple</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://geeeez.github.io/" target="_blank">Geez</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://kkzevip.com/" target="_blank">MoR03r</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.virzz.com/" target="_blank">Virink</a>
    </span>
    
    <span class="blogroll-item">
        <a href="http://www.luoluopeach.top/" target="_blank">Luoluo</a>
    </span>
    
    <span class="blogroll-item">
        <a href="http://39.97.247.119/" target="_blank">Vigorous</a>
    </span>
    
    <span class="blogroll-item">
        <a href="http://www.constantine24.com/" target="_blank">Shanks</a>
    </span>
    
    <span class="blogroll-item">
        <a href="http://www.ysllz.com/" target="_blank">ysllz</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
        <p>
            <span>
                Damya &copy; 2018 - 2021
            </span>
        		
           	
            
            
            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            
            
            

            
                
<span class="site-uv" title="总访客量">
    <i class="icon icon-user"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>


<span class="site-pv" title="总访问量">
    <i class="icon icon-eye"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>

            
        </p>
    </div>
</footer>

    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://www.damyahome.github.io/笔记/ckwd99z400037usuck0dsr709/PHP笔记/&title=《PHP笔记》 — Damya's Blog&pic=https://www.damyahome.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.damyahome.github.io/笔记/ckwd99z400037usuck0dsr709/PHP笔记/&title=《PHP笔记》 — Damya's Blog&source=在那远方的天空之下，一朵小花光鲜亮丽。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACu0lEQVR42u3ay27jQAwEwPz/T3uBPSXYWO4eioYXKJ0MJ3qUAgyZ5nx9xcfj75F/n1zt+7mPf4677oWHh4e3wXtcHsntk++fXTN5fcnzPH01eHh4eGu864U4uU1eBs5+M38deHh4eJ/DmzTiybLetuB4eHh4/xcvf9y8qCRIPDw8vM/htcFBC07uleNXshY8PDy8mDdvjt//eXG+h4eHhzeYqs+LRN4iz8vJL+fi4eHhLfCSi7Zr79noa/EsPDw8vFvPygE5rN1e0G7Jug5BfnyDh4eHt8ZLTjhj52e1LXUSH+Ph4eHt8doCkC/N7WiqLQ8vngcPDw9vmdfGr+3wPi8YSSwSvTI8PDy8Bd585t4O+NsCk7+mIoDGw8PDG/DyJrWNJNoANy8VRVCCh4eHt8bLF/2z7QLJb+axSNGO4+Hh4S3w6mH8uADkge/Zdi48PDy89/DubWTPxvxtHHz4x8DDw8Mb89qFtb198rLaprzYmIWHh4e3wGvjhvlWqiSqyMdsUfHAw8PDu5U3GU1Nise8NY+KCh4eHt4yr45EJ9uh4p/WpOudEXh4eHi38iZL9nXje4afvG48PDy8bV4SDbQjrnaJP4snogEYHh4e3q28vG1tg4ZJEJyXk7OwAw8PD2+DF/2rfxRJJNdpo9tRfIyHh4dX8vIoob30XkBcNPR4eHh4y7yzzVX5ptJ2e1ZSVF78AfDw8PAWeHnLe/bQZ5HrZNvW07Pw8PDwbuI9yiMPIyZtcV54XpQxPDw8vAXe2Uhs0vi2Y/52OxceHh7ee3h5MUhKxVmxyUn1eAwPDw9vjTdflCfhwln7Xtc0PDw8vLfz2jb6rKU+24LwIp/Gw8PD+0je9aO3gWz7Wp9+j4eHh7fGm4QRL3YlHDXWLbjYWYaHh4c35p0NwPK2eN7fJp9vCyzw8PDwrnh/AMfdxTruJ57SAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="//cdn.bootcss.com/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.4.4"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.4.4"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.js"></script>

<script type="text/javascript" src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<script type="text/javascript" src="/js/method.js?v=1.4.4"></script>
<script type="text/javascript" src="/js/blog.js?v=1.4.4"></script>

<!-- third-party -->






<script type="text/javascript" src="/js/plugins/local_search.js?v=1.4.4"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    
    





    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>




    <script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = '等你回来呀~';
                clearTimeout(titleTime);
            } else {
                document.title = '(つェ⊂)欢迎回来!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>





    
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body>
</html>
